<?php
/**
 * Централизиран каталог с професии за Fixora
 * - $profession_groups: групиран вид (за UI optgroup, мултиселект и т.н.)
 * - $professions: плоска карта key => label (бекуърд съвместимост)
 * Файлът връща $professions.
 *
 * ВАЖНО: Съхраняваме старите ключове: boqjdiq, zidar, kofraj, elektrikar, mazach,
 * armat, dvijenie, tehnik, dograma, vhodove
 */

// ===== 0) Стари ключове (backward compatibility) =====
$legacy = [
    'boqjdiq'    => 'Бояджия',
    'zidar'      => 'Зидар',
    'kofraj'     => 'Кофражист',
    'elektrikar' => 'Електротехник',
    'mazach'     => 'Мазач',
    'armat'      => 'Арматурист',
    'dvijenie'   => 'Работник по пътна поддръжка',
    'tehnik'     => 'Техник',
    'dograma'    => 'Монтажник на дограма',
    'vhodove'    => 'Овластител входове',
];

// ===== 1) ГРУПИРАН КАТАЛОГ =====
$profession_groups = [

    'Проектиране и подготовка' => [
        'arhitekt'             => 'Архитект',
        'inz_konstruktor'      => 'Инженер конструктор',
        'proektant_ovk'        => 'Проектант ОВК',
        'proektant_el'         => 'Проектант Електро',
        'proektant_vik'        => 'Проектант ВиК',
        'pojarna_bez'          => 'Проектант Пожарна безопасност',
        'geodezist_ip'         => 'Геодезист (инвест. проектиране)',
        'geolog'               => 'Геолог / Геотехник',
        'land_arch'            => 'Ландшафтен архитект',
        'patno_proekt'         => 'Пътно/Транспортно проектиране',
        'energiен_odit'        => 'Енергиен одит / ЕЕ',
        'bim'                  => 'BIM моделатор / координатор',
        'ocenitel'             => 'Оценител / QS (Количествен специалист)',
    ],

    'Управление и контрол на строителството' => [
        'pm'                   => 'Проект мениджър',
        'tehn_ruk'             => 'Технически ръководител',
        'brigadir'             => 'Бригадир / Майстор',
        'planner'              => 'Планиране (Planner)',
        'cost_control'         => 'Кост контрол / Калкулатор',
        'snabdyavane'          => 'Снабдяване',
        'logistika'            => 'Логистика / Диспечер',
        'qa_qc'                => 'Контрол на качеството (QA/QC)',
        'laborant'             => 'Лаборант',
        'zbut'                 => 'ЗБУТ / Координатор по безопасност',
        'geodezist_stroej'     => 'Геодезист (строителна геодезия)',
        'invest_kontrol'       => 'Инвеститорски контрол',
        'stroit_nadzor'        => 'Строителен надзор',
    ],

    'Земни и геотехнически работи' => [
        'bagerman'             => 'Багерист',
        'buldozerist'          => 'Булдозерист',
        'valjak_operator'      => 'Оператор на валяк',
        'samosvalist'          => 'Самосвалист',
        'zemni_rabotnik'       => 'Работник земни работи',
        'drenaji'              => 'Дренажи / канавки',
        'ukrep_izkop'          => 'Укрепване на изкоп',
        'pilotchik'            => 'Пилотчик / микропилоти',
        'ankeri'               => 'Анкери / струйна инжекция',
    ],

    'Бетон, арматура и кофраж' => [
        'kofraj'               => 'Кофражист (традиционен/системен)',
        'tunelen_kofraj'       => 'Кофражист – тунелен',
        'armat'                => 'Арматурист (рязане/връзване)',
        'betondjiya'           => 'Бетонджия (полагане/вибриране)',
        'operator_betonp'      => 'Оператор бетонпомпа',
        'shlaif_pod'           => 'Шлайфани/индустриални подове',
        'predvar_napryag'      => 'Предварително напрягане',
    ],

    'Зидарии и каменни работи' => [
        'zidar'                => 'Зидар (тухла/газобетон)',
        'kamenar'              => 'Каменар (обл./настилки)',
        'pregra_di'            => 'Преградни зидове/блокчета',
        'tuхlen_svod'          => 'Тухлени сводове (реставрация)',
    ],

    'Метални конструкции' => [
        'montaj_metal'         => 'Монтажник метални конструкции',
        'rigger'               => 'Ригер',
        'zavarvach'            => 'Заварчик (MMA/MIG/MAG/TIG)',
        'rezach'               => 'Газорез/плазмено рязане',
        'povurh_obr'           => 'Пясъкоструй/покрития/антикорозия',
        'inox'                 => 'Неръждаеми изделия (inox)',
    ],

    'Дървени конструкции и дограми' => [
        'durv_konstr'          => 'Дърводелец (ферми/покриви)',
        'durveni_fasadi'       => 'Монтажник дървени фасади/декинг',
        'mebelist'             => 'Мебелист / Вградено обзавеждане',
        // legacy:
        'dograma'              => 'Монтажник на дограма',
        'dograma_pvc'          => 'PVC дограма',
        'dograma_al'           => 'Алуминиева дограма',
        'dograma_durvo'        => 'Дървена дограма',
    ],

    'Покриви и хидроизолации' => [
        'pokrivach'            => 'Покривач (керемиди/ламарина/шиндли)',
        'hidro_pokriv'         => 'Хидроизолации на покриви',
        'tenekedjiya'          => 'Тенекеджия (улуци/обшивки/фалц)',
        'zeleni_pokrivi'       => 'Зелени покриви',
        'pokriv_prozori'       => 'Покривни прозорци',
        'fotovolt'             => 'Фотоволтаици – монтаж',
    ],

    'Фасади и топлоизолации' => [
        'toploizolator'        => 'Топлоизолации (мокра фасада)',
        'vent_fasadi'          => 'Вентилируеми фасади (HPL/керам./композит)',
        'oblicovki_kamak'      => 'Облицовки: камък/клинкер',
        'alpinizum'            => 'Алпинисти/въжени монтажници',
    ],

    'Прозорци, врати и остъкляване' => [
        'staklar'              => 'Стъклар (закал./триплекс/curtain wall)',
        'roleti'               => 'Ролетни/щори/мрежи против насекоми',
        'garajni_vrati'        => 'Гаражни/автоматични врати',
        'vhodni_vrati'         => 'Входни врати (монтаж)',
        'vutreshni_vrati'      => 'Вътрешни врати (монтаж)',
        'komarnici'            => 'Комарници',
        'dus_kabini'           => 'Душ кабини/стъклени паравани',
    ],

    'Сухо строителство и интериор' => [
        'gipskarton'           => 'Гипсокартон/преградни системи',
        'okacheni_tavani'      => 'Окачени/акустични тавани',
        'shpaklovchik'         => 'Шпакловчик',
        'dekor_mazilki'        => 'Декоративни мазилки/стукко',
        'boqjdiq'              => 'Бояджия (интериор/екстериор)',
        'tapeti'               => 'Тапети/фото тапети',
        'silikon_fugi'         => 'Силикониране/фугиране',
        'mikrociment'          => 'Микроцимент',
    ],

    'Подови настилки и замазки' => [
        'zamazkach'            => 'Замазкаджия (цим./анхидрит/саморазливна)',
        'plochkar'             => 'Плочкар (теракот/гранитогрес)',
        'parket'               => 'Паркет/циклене/лакиране',
        'laminat'              => 'Ламинат/винил (LVT/PVC)',
        'moket'                => 'Мокети',
        'epoksi_pod'           => 'Епоксидни/PU индустр. подове',
        'kamuk_nast'           => 'Каменни настилки (вътре/вън)',
    ],

    'ВиК' => [
        'vik'                  => 'Водопровод и канализация (ВиК)',
        'kanaldjiya'           => 'Каналджия (PVC/PP/чугун)',
        'sanitar'              => 'Санитария/арматура/помпени',
        'polivni'              => 'Поливни системи (ландшафт)',
        'pojarni_vik'          => 'Пожарни хидранти/тръбни мрежи',
    ],

    'ОВК' => [
        'klimatizaciq'         => 'Климатици – монтаж/сервиз',
        'ventilacia'           => 'Вентилация (канали/агрегати)',
        'otoplenie'            => 'Отопление / подово / котли',
        'toploiz_ovk'          => 'Топлоизолации ОВК / шумоиз.',
        'pusk_naladka_ovk'     => 'Пуск и наладка / комисионинг',
    ],

    'Електро (силноток/слаб ток)' => [
        'elektrikar'           => 'Електромонтьор (силноток)',
        'tablajiya'            => 'Табладжия / шинопроводи',
        'slabotok'             => 'Слаботок (СОТ/Пожаро/LAN/TV/КА)',
        'fotovolt_dcac'        => 'Фотоволтаици DC/AC, инвертори',
        'izmervania'           => 'Измервания/изпитвания',
        'mulniezash'           => 'Мълниезащита и заземяване',
    ],

    'Пожарогасителни и безопасност' => [
        'sprinkler'            => 'Спринклерни/дренчерни инсталации',
        'gas_sistemi'          => 'Газови системи (Inergen/FM200/CO₂)',
        'dim_toplin_kontrol'   => 'Димен/топлинен контрол',
        'kontrol_dostup'       => 'Контрол на достъпа',
        'cctv'                 => 'Видеонаблюдение (CCTV)',
        'alarma'               => 'Алармени системи',
    ],

    'Автоматизация и BMS' => [
        'bms_scada'            => 'BMS/SCADA техник',
        'knx_dali'             => 'KNX/DALI интегратор',
        'smart_home'           => 'Умни домове (Smart Home)',
        'energomng'            => 'Енергомениджмънт/осветл. контроли',
    ],

    'Асансьори и ескалатори' => [
        'asansyori'            => 'Асансьори/платформи – монтаж/сервиз',
        'eskalatori'           => 'Ескалатори – монтаж/сервиз',
    ],

    'Скелета и временни конструкции' => [
        'skafold'              => 'Монтажник скеле (модулно/тръбно)',
        'mobilni_platf'        => 'Мобилни платформи',
        'vremenni_podpori'     => 'Временни подпори/коли',
        'kofraj_sistemi'       => 'Кофражни системи (монтаж/поддръжка)',
    ],

    'Демонтаж, рязане, пробиване' => [
        'kurtach'              => 'Къртачни работи',
        'diamant_rezane'       => 'Диамантено рязане/ядково пробиване',
        'dekonstrukciq'        => 'Деконструкция',
        'opasni_materiali'     => 'Азбест/опасни материали (сертиф.)',
    ],

    'Пътно строителство и благоустройство' => [
        'asfaltopolagasht'     => 'Асфалтополагане (финишер/валяк)',
        'markirovka'           => 'Пътна маркировка/знаци/огради',
        'bordyuri'             => 'Бордюри/тротоари/настилки',
        'kanalizacii'          => 'Канализации/колектори, шахти',
        'geosintetiki'         => 'Геосинтетики/габиони',
    ],

    'Мостово, ЖП, тунелно и хидротехническо' => [
        'mostove'              => 'Мостове (фуги/лагери/греди)',
        'jp'                   => 'ЖП (релси/баласт/КМ/сигнал.)',
        'tuneli'               => 'Тунели (TBM/НАТМ, шоткрийт/анкери)',
        'hidro'                => 'Хидро (диги/канали/преливници)',
    ],

    'Озеленяване и външна среда' => [
        'ozelenyavane'         => 'Озеленяване/ландшафт',
        'nastilki_dvor'        => 'Дворни настилки и бордюри',
        'ogradi'               => 'Огради/спортни/детски съоръжения',
        'polivni_ext'          => 'Поливни системи (външни)',
    ],

    'Финален монтаж и довършителни' => [
        'vrati_obkov'          => 'Врати/обков, первази',
        'prof_chistene'        => 'Проф. финално почистване',
        'siliconi'             => 'Силикониране (финално)',
    ],

    'Транспорт, повдигане и склад' => [
        'kranar'               => 'Крановик',
        'motokarist'           => 'Мотокарист',
        'teleskopichen_kar'    => 'Телескопичен товарач',
        'sklad'                => 'Складов работник',
        'snabditel'            => 'Снабдител',
    ],

    'Поддръжка и експлоатация (FM)' => [
        'fm_tehnik'            => 'Техник поддръжка сгради (FM)',
        'domoupravitel'        => 'Домоуправление / Facility',
        'tec_pompeni'          => 'ТЕЦ/котелни/помпени',
        'avarien_ekip'         => 'Аварийни екипи',
    ],
];

// ===== 2) Плосък масив (групиран + legacy) =====
$professions = $legacy;
foreach ($profession_groups as $group => $items) {
    foreach ($items as $k => $label) {
        $professions[$k] = $label;
    }
}

// връщаме плоската карта, както досега
return $professions;
